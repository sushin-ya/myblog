---
title: 画像表示のレスポンシブル化
date: "2021-04-01T17:20:37.121Z"
---

こんにちは。  
現在、練習用サイトをちょこちょこ作成しているのですが、  
画像表示の部分でハマったところをメモしておきます。  
CSS の細かい話です。

#### 画像を表示したい

HTML/CSS において、画像表示の方法は下記の３つあると思います。

- img タグ
- picture タグ
- div タグの background-image の設定

このとき、img タグが意外とやりたいことができなかったりするので、  
３つ目の div タグを用いる方法を採用する事があるのではないでしょうか。

#### div タグで画像表示するときの注意

div タグを用いて表示するときの注意としては、  
height を設定しないと、div タグの要素の高さが 0 のため、画像が表示されないということです。
height を設定し、下記のような CSS を設定すればいい感じに画像が表示されます。

```css:title=横いっぱいでいい感じの画像表示
.img {
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  height: 500px;
  width: 100%;
}
```

ここで問題になるのは、レスポンシブ対応を行った際に、  
height が固定になっているため、不自然な表示になる場合があることです。  
では、どうやって height を与えればよいのでしょうか。

#### 縦横の比率を維持する

結論としては、下記のように擬似要素の padding-top を設定してあげることです。  
こうすることで、padding 分要素が広がるので、画像が表示されることになります。  
これで、レスポンシブ対応しても、比率も維持され、画像もいい感じに制御できます。  
複数のサイズが違う画像を flex で並べるときなどは、便利そうです。

```css:title=擬似要素
.img::before {
  display: block;
  content: "";
  padding-top: 50%;
}
```

こういう地味なCSSテクニックって調べるのが難しいですよね。

#### 参考

- [縦横の比率維持で迷うのはもうやめよう！](https://qiita.com/fukamiiiiinmin/items/b8c8c190f2de492064de).
